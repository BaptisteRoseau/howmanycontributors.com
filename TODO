# TODO

Backend, for a given URL

- [X] Make sure the URL follows: http[s]://github.com/OWNER/REPO
- [X] Search in the cache for the results
- [X] Use scrapper to parse the URL's HTML: <https://docs.rs/scraper/0.19.0/scraper/> (Respect the rate limit)
- [X] Search for "Contributors" and optionally "Used by" in the HTML
- [X] Cache results in a key/value Redis for 3 days + rand(1day) with: [OWNER/REPO, contributors, used_by]
- [X] Search for dependencies at $URL/network/dependencies
- [X] Repeat for each dependency
- [X] Return the total of contributors and details of the dependencies
- [X] Add a rate limiter per IP

Frontend

- [X] Add a field for the URL
- [X] Make sure the URL follows: http[s]://github.com/OWNER/REPO
- [X] Display warnings about the data accuracy
- [X] Add an "About" page
- [X] Show the total number of contributors in a big number
- [X] Show the details in a table
- [X] Add an error popup template

Unnecessary but I like it:

- [X] Prometheus
- [X] Grafana
- [ ] Loki
- [ ] Leaderboard of most contributions per users (Kiki meters for the community) (After actually publishing the service)

Deploying the MVP:

- [X] Prettify the frontend just a bit
- [X] Configure Redis RAM limitations
- [X] Verify how to perform a 0-downtime update using docker-compose.yml (see command bellow)
- [X] Support HTTPS (Use NGINX and certbot)
- [ ] Configure environment variables for secrets

- [X] Pay for a Hostinger or OVH server and a domain name (verify bandwidth is unlimited)
- [X] Install node Prometheus exporter
- [X] Let's encrypt
- [ ] Close external connection for ports other that 80, 443, 22
- [ ] Configure Loki Docker Plugin
- [ ] Configure Grafana access
- [ ] Docker compose + systemd

When finished:

- [ ] Add a button to get back to the top of the page
- [ ] Add a "Feedback" button
- [X] SSL/TLS reverse proxy
- [X] Add reverse-proxy to access the resources
- [ ] Post on Twitter & LinkedIn
- [X] Find how to import/export Grafana dashboards
- [X] Remove dead code
- [ ] Add tests
- [ ] Add documentation
- [ ] Maybe familiarize yourself with Kubernetes
- [ ] Screaming Frog
- [ ] Google Tag Manager

To test via curl:

```sh
curl -v --include --no-buffer --header "Connection: Upgrade" --header "Upgrade: websocket" --header "Host: example.com:80" --header "Origin: http://example.com:80" --header "Sec-WebSocket-Key: SGVsbG8sIHdvcmxkIQ==" --header "Sec-WebSocket-Version: 13" http://localhost:8090/dependencies?link="https://github.com/tokio-rs/loom"
```

to deploy:

```sh
docker stack deploy --compose-file docker-compose.yml
```
